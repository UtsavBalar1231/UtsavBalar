---
const navLinks = [
  { href: "/", text: "Home", color: "term-bright-green" },
  { href: "/about/", text: "About", color: "term-bright-cyan" },
  { href: "/projects/", text: "Projects", color: "term-bright-yellow" },
  { href: "/quotes/", text: "Quotes", color: "term-bright-blue" },
  { href: "/bookbits/", text: "Bits", color: "term-bright-magenta" },
  { href: "/resume/", text: "Resume", color: "term-bright-red" },
  { href: "/tutorials/", text: "Tutorials", color: "term-bright-yellow" },
];

const currentPath = Astro.url.pathname;
---

<nav class="hidden md:block">
  <ul class="m-0 flex list-none flex-wrap justify-center gap-6 p-0 lg:gap-8">
    {
      navLinks.map((link) => {
        const isActive =
          currentPath === link.href || (link.href !== "/" && currentPath.startsWith(link.href));
        return (
          <li class="whitespace-nowrap">
            <a
              href={link.href}
              class:list={`nav-link rounded px-2 py-1 no-underline transition-all duration-200 ease-in-out font-ui-nav hover:bg-terminal-secondary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary ${
                isActive
                  ? `text-${link.color} font-bold`
                  : "hover:text- text-text-primary" + link.color
              }`}
            >
              <span
                class:list={`bracket ${isActive ? `text-${link.color}` : "text-term-bright-black"}`}
              >
                [
              </span>
              <span class="nav-text">{link.text}</span>
              <span
                class:list={`bracket ${isActive ? `text-${link.color}` : "text-term-bright-black"}`}
              >
                ]
              </span>
            </a>
          </li>
        );
      })
    }
  </ul>
</nav>

<style>
  .nav-link {
    position: relative;
    background: transparent;
    transition: all 0.2s ease;
  }

  .nav-link:hover {
    background: rgba(var(--bg-color-rgb), 0.06);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.03),
      inset 0 1px 0 rgba(255, 255, 255, 0.02);
    animation: link-rgb-shift 3s ease-in-out infinite;
  }

  .nav-link:hover .bracket {
    animation: bracket-pulse 0.3s ease;
  }

  .nav-link:hover .nav-text {
    text-decoration: underline;
  }

  @keyframes bracket-pulse {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
  }
</style>
