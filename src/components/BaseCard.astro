---
interface Props {
  class?: string;
  animated?: boolean;
  animationDelay?: string;
  hoverable?: boolean;
  featured?: boolean;
}

const {
  class: className = "",
  animated = true,
  animationDelay = "0s",
  hoverable = true,
  featured = false,
} = Astro.props;

const classes = [
  "card-base",
  "card-base-default",
  "glitch-border-hover",
  hoverable && "card-base-hoverable",
  featured && "card-base-featured",
  className,
]
  .filter(Boolean)
  .join(" ");
---

<div
  class:list={[classes]}
  style={animated
    ? `animation: slide-in 0.6s ease-out forwards; animation-delay: ${animationDelay}; opacity: 0;`
    : undefined}
>
  <div class="card-section-header">
    <slot name="header" />
  </div>

  <div class="card-section-content card-content">
    <slot name="content" />
  </div>

  <div class="card-section-footer">
    <slot name="footer" />
  </div>
</div>

<style>
  /* Terminal cursor and CRT glitch effects (component-specific targeting) */
  @media (hover: hover) {
    .card-base-hoverable:hover .card-content::after {
      content: "â–Š";
      animation: cursor-blink 1s infinite;
      color: var(--accent-primary);
      font-weight: bold;
      margin-left: 2px;
    }

    .card-base-hoverable:hover .card-content {
      animation: crt-text-glitch 0.5s ease-in-out;
    }
  }
</style>
