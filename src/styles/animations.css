/* Keyframe Animations */

/* Random Glitch Effect */
@keyframes glitch {
  0%,
  100% {
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
  2% {
    transform: translate(2px, 2px);
    filter: hue-rotate(90deg) saturate(2);
  }
  4% {
    transform: translate(-2px, -2px);
    filter: hue-rotate(-90deg) saturate(2);
  }
  6% {
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
}

/* ===== CRT Chromatic Aberration Effects ===== */
/* Consolidated RGB separation effects using theme colors */

/* CRT Text Glitch - For text content hover effects */
@keyframes crt-text-glitch {
  0%,
  100% {
    text-shadow: none;
  }
  25% {
    text-shadow:
      -1px 0 var(--term-bright-red),
      1px 0 var(--term-bright-cyan);
  }
  50% {
    text-shadow:
      1px 0 var(--term-bright-green),
      -1px 0 var(--term-bright-magenta);
  }
  75% {
    text-shadow:
      -1px 0 var(--term-bright-yellow),
      1px 0 var(--term-bright-blue);
  }
}

/* CRT Link Glitch - For hyperlink hover effects */
@keyframes crt-link-glitch {
  0%,
  100% {
    text-shadow:
      0.1em 0 0 var(--term-bright-red),
      -0.1em 0 0 var(--term-bright-cyan);
    transform: translate(0);
  }
  20% {
    text-shadow:
      -0.1em 0.05em 0 var(--term-bright-red),
      0.1em -0.05em 0 var(--term-bright-cyan);
    transform: translate(0.5px, 0);
  }
  40% {
    text-shadow:
      0.05em -0.1em 0 var(--term-bright-green),
      -0.05em 0.1em 0 var(--term-bright-magenta);
    transform: translate(-0.5px, 0.5px);
  }
  60% {
    text-shadow:
      -0.1em 0 0 var(--term-bright-blue),
      0.1em 0 0 var(--term-bright-yellow);
    transform: translate(0, -0.5px);
  }
  80% {
    text-shadow:
      0.1em 0.1em 0 var(--term-bright-red),
      -0.1em -0.1em 0 var(--term-bright-cyan);
    transform: translate(-0.5px, 0);
  }
}

/* CRT Icon Glitch - For icon/SVG hover effects */
@keyframes crt-icon-glitch {
  0%,
  100% {
    filter: none;
    transform: translate(0);
  }
  25% {
    filter: drop-shadow(2px 0 0 var(--term-bright-red))
      drop-shadow(-2px 0 0 var(--term-bright-cyan));
    transform: translate(-1px, 0);
  }
  50% {
    filter: drop-shadow(1px 0 0 var(--term-bright-green))
      drop-shadow(-1px 0 0 var(--term-bright-magenta));
    transform: translate(1px, 0);
  }
  75% {
    filter: drop-shadow(-1px 1px 0 var(--term-bright-yellow))
      drop-shadow(1px -1px 0 var(--term-bright-blue));
    transform: translate(0, -1px);
  }
}

/* CRT Border Glitch - For card border hover effects */
@keyframes crt-border-glitch {
  0%,
  100% {
    border-color: var(--border-color);
    box-shadow: none;
  }
  25% {
    border-color: var(--term-bright-red);
    box-shadow:
      0 0 5px var(--term-bright-red),
      inset 0 0 5px var(--term-bright-cyan);
  }
  50% {
    border-color: var(--term-bright-green);
    box-shadow:
      0 0 5px var(--term-bright-green),
      inset 0 0 5px var(--term-bright-magenta);
  }
  75% {
    border-color: var(--term-bright-blue);
    box-shadow:
      0 0 5px var(--term-bright-blue),
      inset 0 0 5px var(--term-bright-yellow);
  }
}

/* ===== Card Entrance & Hover Effects ===== */

/* Slide-in from left - Card entrance animation */
@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Scan line sweep - Horizontal line effect on hover */
@keyframes scan-line {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* Terminal cursor blink - Block cursor for text */
@keyframes cursor-blink {
  0%,
  49% {
    opacity: 1;
  }
  50%,
  100% {
    opacity: 0;
  }
}

/* Typing animation - reveals text character by character */
@keyframes typing {
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
}

.glitch-text:hover {
  animation: glitch 0.3s ease-in-out;
}

.typing-text {
  animation: typing 3.5s steps(40, end);
  overflow: hidden;
  white-space: nowrap;
  border-right: 3px solid;
  border-color: var(--accent-primary);
}

/* Reusable glitch hover classes - works on mobile with :active */
.glitch-hover:hover,
.glitch-hover:active,
.glitch-hover:focus {
  animation: glitch 0.3s ease-in-out;
}

/* Icon/SVG glitch using filters and transforms */
.glitch-icon-hover:hover,
.glitch-icon-hover:active,
.glitch-icon-hover:focus {
  animation: crt-icon-glitch 0.5s ease-in-out;
}

/* Border glitch for cards and containers */
.glitch-border-hover:hover,
.glitch-border-hover:active,
.glitch-border-hover:focus {
  animation: crt-border-glitch 0.5s ease-in-out;
}

/* Subtle glitch for smaller elements */
.glitch-subtle-hover:hover,
.glitch-subtle-hover:active,
.glitch-subtle-hover:focus {
  animation: glitch-subtle 0.4s ease-in-out;
}

/* Subtle glitch for smaller elements */
@keyframes glitch-subtle {
  0%,
  100% {
    transform: translate(0);
    filter: none;
  }
  33% {
    transform: translate(-0.5px, 0);
    filter: hue-rotate(90deg);
  }
  66% {
    transform: translate(0.5px, 0);
    filter: hue-rotate(-90deg);
  }
}

/* Mobile optimizations - slower animations to reduce GPU load */
@media (max-width: 767px) {
  .glitch-text {
    animation-duration: 6s; /* Slower from 3s */
  }

  a[class*="glitch"] {
    animation-duration: 6s; /* Slower from 3s */
  }
}

/* Accessibility: Disable glitch animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  /* Disable interactive glitch effects */
  .glitch-hover:hover,
  .glitch-hover:active,
  .glitch-hover:focus,
  .glitch-icon-hover:hover,
  .glitch-icon-hover:active,
  .glitch-icon-hover:focus,
  .glitch-border-hover:hover,
  .glitch-border-hover:active,
  .glitch-border-hover:focus,
  .glitch-subtle-hover:hover,
  .glitch-subtle-hover:active,
  .glitch-subtle-hover:focus {
    animation: none;
  }

  /* Disable legacy animation classes */
  .fade-in,
  .glitch-text:hover,
  .typing-text {
    animation: none;
  }

  /* Disable lazy load animations */
  .animate-ready,
  .animate-in {
    opacity: 1;
    transform: none;
    transition: none;
  }
}

/* Lazy animation classes for intersection observer */
@media (min-width: 768px) {
  .animate-ready {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease,
      transform 0.6s ease;
  }

  .animate-in {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Performance Mode: Disable animations and ensure visibility */
/* Must come AFTER media queries to override them */
[data-performance="true"] .animate-ready,
[data-performance="true"] .animate-in {
  opacity: 1 !important;
  transform: none !important;
  transition: none !important;
}
