/* Terminal glow for headers with phosphor persistence - limited to h1/h2 for performance */
h1,
h2 {
  animation: phosphor-glow 2s ease-in-out infinite alternate;
}

/* Smaller headers get static glow without animation */
h3,
h4,
h5,
h6 {
  text-shadow:
    0 0 8px currentColor,
    0 0 12px currentColor;
}

/* Keyframe Animations */

@keyframes phosphor-glow {
  0% {
    text-shadow:
      0 0 1px currentColor,
      0 0 1.5px currentColor;
    filter: brightness(1);
  }
  100% {
    text-shadow:
      0 0 1.5px currentColor,
      0 0 2px currentColor,
      0 0 2.5px currentColor;
    filter: brightness(1.025);
  }
}

@keyframes rgb-shift {
  0%,
  100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(0.5px, -0.5px);
  }
  66% {
    transform: translate(-0.5px, 0.5px);
  }
}

@keyframes phosphor-pulse {
  0%,
  100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.1);
  }
}

/* Random Glitch Effect */
@keyframes glitch {
  0%,
  100% {
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
  2% {
    transform: translate(2px, 2px);
    filter: hue-rotate(90deg) saturate(2);
  }
  4% {
    transform: translate(-2px, -2px);
    filter: hue-rotate(-90deg) saturate(2);
  }
  6% {
    transform: translate(0);
    filter: hue-rotate(0deg);
  }
}

/* Dedicated Link RGB Shift Animation */
@keyframes link-rgb-shift {
  0%,
  100% {
    text-shadow:
      0.1em 0 0 rgba(255, 0, 0, 0.9),
      -0.1em 0 0 rgba(0, 255, 255, 0.9);
    transform: translate(0);
  }
  20% {
    text-shadow:
      -0.1em 0.05em 0 rgba(255, 0, 0, 0.9),
      0.1em -0.05em 0 rgba(0, 255, 255, 0.9);
    transform: translate(0.5px, 0);
  }
  40% {
    text-shadow:
      0.05em -0.1em 0 rgba(0, 255, 0, 0.9),
      -0.05em 0.1em 0 rgba(255, 0, 255, 0.9);
    transform: translate(-0.5px, 0.5px);
  }
  60% {
    text-shadow:
      -0.1em 0 0 rgba(0, 0, 255, 0.9),
      0.1em 0 0 rgba(255, 255, 0, 0.9);
    transform: translate(0, -0.5px);
  }
  80% {
    text-shadow:
      0.1em 0.1em 0 rgba(255, 0, 0, 0.9),
      -0.1em -0.1em 0 rgba(0, 255, 255, 0.9);
    transform: translate(-0.5px, 0);
  }
}

/* Legacy class mappings for compatibility */
.fade-in {
  animation: fade-in 0.5s ease-out;
}

.glitch-text:hover {
  animation: glitch 0.3s ease-in-out;
}

.typing-text {
  animation: typing 3.5s steps(40, end);
  overflow: hidden;
  white-space: nowrap;
  border-right: 3px solid;
  border-color: var(--primary);
}

/* Reusable glitch hover classes - works on mobile with :active */
.glitch-hover:hover,
.glitch-hover:active,
.glitch-hover:focus {
  animation: glitch 0.3s ease-in-out;
}

/* Icon/SVG glitch using filters and transforms */
.glitch-icon-hover:hover,
.glitch-icon-hover:active,
.glitch-icon-hover:focus {
  animation: icon-glitch 0.5s ease-in-out;
}

/* Border glitch for cards and containers */
.glitch-border-hover:hover,
.glitch-border-hover:active,
.glitch-border-hover:focus {
  animation: border-glitch 0.5s ease-in-out;
}

/* Subtle glitch for smaller elements */
.glitch-subtle-hover:hover,
.glitch-subtle-hover:active,
.glitch-subtle-hover:focus {
  animation: glitch-subtle 0.4s ease-in-out;
}

/* Icon glitch animation using filters */
@keyframes icon-glitch {
  0%,
  100% {
    filter: none;
    transform: translate(0);
  }
  20% {
    filter: drop-shadow(2px 0 0 rgba(255, 0, 0, 0.8)) drop-shadow(-2px 0 0 rgba(0, 255, 255, 0.8));
    transform: translate(-1px, 0);
  }
  40% {
    filter: drop-shadow(-1px 0 0 rgba(0, 0, 255, 0.8)) drop-shadow(1px 0 0 rgba(255, 0, 0, 0.8));
    transform: translate(1px, 0);
  }
  60% {
    filter: drop-shadow(0 1px 0 rgba(0, 255, 0, 0.8)) drop-shadow(0 -1px 0 rgba(255, 0, 255, 0.8));
    transform: translate(0, -1px);
  }
  80% {
    filter: drop-shadow(1px 1px 0 rgba(255, 255, 0, 0.8))
      drop-shadow(-1px -1px 0 rgba(0, 255, 255, 0.8));
    transform: translate(-0.5px, 0.5px);
  }
}

/* Border glitch animation */
@keyframes border-glitch {
  0%,
  100% {
    border-color: var(--border-color);
    box-shadow: none;
  }
  25% {
    border-color: rgba(255, 0, 0, 0.8);
    box-shadow:
      0 0 5px rgba(255, 0, 0, 0.5),
      inset 0 0 5px rgba(0, 255, 255, 0.2);
  }
  50% {
    border-color: rgba(0, 255, 0, 0.8);
    box-shadow:
      0 0 5px rgba(0, 255, 0, 0.5),
      inset 0 0 5px rgba(255, 0, 255, 0.2);
  }
  75% {
    border-color: rgba(0, 0, 255, 0.8);
    box-shadow:
      0 0 5px rgba(0, 0, 255, 0.5),
      inset 0 0 5px rgba(255, 255, 0, 0.2);
  }
}

/* Subtle glitch for smaller elements */
@keyframes glitch-subtle {
  0%,
  100% {
    transform: translate(0);
    filter: none;
  }
  33% {
    transform: translate(-0.5px, 0);
    filter: hue-rotate(90deg);
  }
  66% {
    transform: translate(0.5px, 0);
    filter: hue-rotate(-90deg);
  }
}

/* Accessibility: Disable glitch animations and header effects for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  /* Disable interactive glitch effects */
  .glitch-hover:hover,
  .glitch-hover:active,
  .glitch-hover:focus,
  .glitch-icon-hover:hover,
  .glitch-icon-hover:active,
  .glitch-icon-hover:focus,
  .glitch-border-hover:hover,
  .glitch-border-hover:active,
  .glitch-border-hover:focus,
  .glitch-subtle-hover:hover,
  .glitch-subtle-hover:active,
  .glitch-subtle-hover:focus {
    animation: none;
  }

  /* Disable header phosphor glow animation */
  h1,
  h2 {
    animation: none;
  }

  /* Disable legacy animation classes */
  .fade-in,
  .glitch-text:hover,
  .typing-text {
    animation: none;
  }

  /* Disable lazy load animations */
  .animate-ready,
  .animate-in {
    opacity: 1;
    transform: none;
    transition: none;
  }
}

/* Lazy animation classes for intersection observer */
@media (min-width: 768px) {
  .animate-ready {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease,
      transform 0.6s ease;
  }

  .animate-in {
    opacity: 1;
    transform: translateY(0);
  }
}
